# Documentation Overview

This directory contains various design and specification documents for the jQAssistant-based GraphRAG project. These documents aim to provide a comprehensive understanding of the system's architecture, core components, and specific design decisions.

## High-Level Design Documents

These documents provide an overview of the system's architecture and key design principles.
-   **[Specification of the jQAssistant-based Graph Architecture](spec-jqassistant-graph-architecture.md)**: Provides a detailed specification of the Neo4j graph generated by jQAssistant and the semantic layer built on top of it, including node labels, relationships, and custom properties. This is the primary document for understanding the graph structure.
-   **[Enriching jQAssistant Graph for GraphRAG](designing-jqassistant-graph-for-graphrag.md)**: Details the design of the graph processing pipeline, focusing on how the raw jQAssistant graph is normalized, enriched, and linked to source files to prepare it for RAG.
-   **[Designing for Modular Scalable Summarization](designing-for-modular-scalable-summarization.md)**: Explores the design principles and architecture behind the modular and scalable summarization pipeline, including how LLMs are leveraged and context is managed.


## Detailed Component Design Documents

This subdirectory contains detailed design specifications for the core components of the jQAssistant-based GraphRAG system. Each document describes a component's purpose, workflow, key methods, dependencies, and design rationale.

### High-level design overview
Here we provide a high-level overview of the system's architecture and key design components.
-   **[000-architecture-design-of-jqassistant-graphrag.md](design-documents/000-architecture-design-of-jqassistant-graphrag.md)**: Provides a high-level architectural overview of the entire jQAssistant-based GraphRAG system, including its phases and major components.
-   **[010-project-core-components.md](design-documents/010-project-core-components.md)**: Lists and briefly describes the most important components of the project, serving as an index to the more detailed design documents.

### High-level pass orchestration
The whole design of the project is basically based on the idea of orchestrators, which coordinate the execution of passes, one for graph processing and one for RAG generation.
-   **[020-graph-orchestrator.md](design-documents/020-graph-orchestrator.md)**: Design document for the `GraphOrchestrator`, which coordinates the initial graph normalization and enrichment.
-   **[030-rag-orchestrator.md](design-documents/030-rag-orchestrator.md)**: Design document for the `RagOrchestrator`, which manages the entire summary and embedding generation pipeline.

### Graph enrichment and normalization
The graph processing pipeline is broken down into modular components, each responsible for a specific phase of enrichment.
-   **[040-source-file-linker.md](design-documents/040-source-file-linker.md)**: Design document for the `SourceFileLinker`, which links graph nodes to their corresponding source files.
-   **[051-graph-basic-normalizer.md](design-documents/051-graph-basic-normalizer.md)**: Design document for the `GraphBasicNormalizer`, which adds canonical absolute paths and labels source files.
-   **[052-graph-tree-builder.md](design-documents/052-graph-tree-builder.md)**: Design document for the `GraphTreeBuilder`, which establishes the project's hierarchical structure.
-   **[053-graph-entity-setter.md](design-documents/053-graph-entity-setter.md)**: Design document for the `GraphEntitySetter`, which creates stable IDs and labels all queryable entities.

### Graph summarization and embedding
The graph summarization and embedding has sophisticated design. Especially, it partitions the summarization work into multiple layers and passes. 
- The RagOrchestrator coordinates the execution of these passes of different types of nodes' summarization. 
- Then the BaseSummarizer as the front-end provides a reusable framework for all summarization passes. 
- The NodeSummaryProcessor is the core logic layer for processing individual nodes for summarization. 
- The LLMClient is the back-end interface to LLM APIs. It works with the TokenManager for context window management and PromptManager for prompt generation.
- The SummaryCacheManager is the data-layer responsible for summary persistence.
- Finally is the embedding pass EntityEmbedder, which generates vector embeddings and creates the searchable index in Neo4j.

#### Summarization layers
-   **[060-base-summarizer.md](design-documents/060-base-summarizer.md)**: Design document for the `BaseSummarizer` abstract class, which provides a reusable framework for all summarization passes.
-   **[070-node-summary-processor.md](design-documents/070-node-summary-processor.md)**: Design document for the `NodeSummaryProcessor`, the core logic for processing individual nodes for summarization.
-   **[080-summary-cache-manager.md](design-documents/080-summary-cache-manager.md)**: Design document for the `SummaryCacheManager`, responsible for managing the on-disk cache for summaries and content hashes.

#### LLM interaction
-   **[090-llm-client.md](design-documents/090-llm-client.md)**: Design document for the LLMClient, which provides a reusable framework for all LLM clients so that different LLM APIs can be easily swapped.
-   **[100-token-manager.md](design-documents/100-token-manager.md)**: Design document for the `TokenManager`, which handles token counting and context window management for LLMs.
-   **[110-prompt-manager.md](design-documents/110-prompt-manager.md)**: Design document for the `PromptManager`, which generates prompts for LLMs.

#### Embedding generation
-   **[120-entity-embedder.md](design-documents/120-entity-embedder.md)**: Design document for the `EntityEmbedder`, which generates vector embeddings and creates the searchable index in Neo4j.

